##############################
######## Custom Types ########
##############################
type User {
  id: ID!
  givenName: String
  familyName: String
  emailAddress: String
  createdAt: String
  updatedAt: String
}

type FeatureFlag {
  id: ID!
  key: String
  value: String
  type: String
  createdAt: String
  updatedAt: String
}

type UserFeatureFlag {
  id: ID!
  value: String
  createdAt: String
  updatedAt: String
}

type TargetUsersOutput {
  userId: ID!
  featureFlag: UserFeatureFlag!
}

type Users {
  user: User!
  featureFlags: [FeatureFlag]!
}

type OverrideUserFeatureFlagOutput {
  userId: ID!
  featureFlagId: ID!
  value: String!
  updatedAt: String!
}

##############################
##### Input Definitions ######
##############################
input UserFeatureFlagInput {
  id: ID!
  value: String
}

input TargetUsersInput {
  userId: ID!
  featureFlags: [UserFeatureFlagInput!]!
}

input OverrideUserFeatureFlagInput {
  userId: ID!
  featureFlagId: ID!
  value: String!
}

##############################
#### Mutations / Queries #####
##############################
type Mutation {
  targetUsers(data: [TargetUsersInput]): [TargetUsersOutput!]!
  overrideUserFeatureFlag(data: OverrideUserFeatureFlagInput!): OverrideUserFeatureFlagOutput!
}

type Query {
  users: [Users]!
}
