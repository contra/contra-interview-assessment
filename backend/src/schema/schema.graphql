scalar JSON

type Query {
  getUsers: [User!]!
  getFeatureFlags: [FeatureFlag!]!
}

type Mutation {
  setUsersFeatureFlag(input: setUsersFeatureFlagInput!): SuccessPayload!
  updateUserFlag(input: updateUserFlagInput!): SuccessPayload!
}

type User {
  id: String!
  given_name: String!
  family_name: String!
  email_address: String!
  feature_flags: [UserFlag!]!
}

type FeatureFlag {
  id: String!
  name: String!
  description: String
  type: String!
}

type UserFlag {
  id: String!
  user: User!
  featureFlag: FeatureFlag!
  value: JSON!
}

enum FlagType {
  BOOLEAN
  MULTIVARIANT
}

input setUsersFeatureFlagInput {
  userIds: [String!]!
  featureFlagId: String!
  value: JSON!
}

input updateUserFlagInput {
  userId: String!
  featureFlagId: String!
  value: JSON!
}

type SuccessPayload {
  success: Boolean!
}
